<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src='https://code.jquery.com/jquery-3.4.1.min.js' type='text/javascript'></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous" defer></script>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <script src="{% static 'js/chat_window.js' %}" defer></script>
    <script src="{% static 'js/message-tiles.js' %}" defer></script>
    <script src="{% static 'js/new_message_logic.js' %}" defer></script>
    <script src="{% static 'js/active_variables.js' %}" defer></script>
    <script src="{% static 'js/add_friend.js' %}" defer></script>
    <title>ChatApp</title>
</head>
<body>

    <input type="hidden" id="user-account-id" value="{{ user_account_id }}">
    <input type="hidden" id="active-user-id" value="">

    <div class="container-all">
        <div class="leading-tiles">
            <div class="button-rows" style="margin-top: 20px;">
                <input class="btn btn-danger rata-kanan" type="button" onclick='window.location.href="/logout/"' value="Log Out">
                <button type="button" id="new-chat-button" class="btn btn-primary rata-kiri">
                    New Chat
                </button>
            </div>
            <input type="text" placeholder="search" id="search-bar">
            <div class="message-tiles">
                <button class="message-tile"></button>           
            </div>
        </div>


        <div class="chat-box">
            <div class="user-info-container on-start" id="user-info-container">
                <img src="https://peterchu.com/wp-content/uploads/2020/10/user-dummy-pic.png" alt="" height="60px">
                <div class="user-profile-name">
                    
                </div>
            </div>
            <div class="chat-container on-start" id="chat-container"></div>
            <div class="send-container on-start" id="sent-container">
                <input type="text" name="to-sent-input" id="to-sent-input" placeholder="Enter a message here ...">
                <input type="button" value="send" id="send-btn">
            </div>
        </div>
    </div>

    <!-- New Message Display -->
    <div id="modal-holder" class="overlay">
        <div class="overlay-title">
            <div>
                Your Contacts
                <button id="search-new-btn">Search New</button>
            </div>
          
          <input id="close-new-message" type="button" value="&#x2715" style="background: none; color: white; border: none;">
        </div>
        <div class="overlay-search-container">
            <input type="text" class="overlay-search-bar" id="contact-search-bar" placeholder="Search by Profile Name">
        </div>
        <div class="overlay-container" id="overlay-container"></div>
    </div>

    <!-- Search for user modal -->
    <div id="modal-username-search-holder" class="overlay hidden">
        <div class="overlay-title">
            Search User by Username
            <input id="cancel-search-username" type="button" value="Cancel" style="background: none; color: turquoise; border: none;">
        </div>
        <div class="overlay-search-container">
            <input type="text" class="overlay-search-bar" id="username-search-bar" placeholder="Search by Username">
        </div>
        <div class="overlay-container">
            <div class="user-container">
                <span id="username-search-name"></span>
                <span id="username-search-id"></span>
                <button class="btn btn-success" id="add-friend-button">Add</button>
            </div>
        </div>
    </div>
</body>
</html>

